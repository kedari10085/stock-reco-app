<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lift - Professional Stock Recommendations</title>
    <meta name="description" content="Get professional stock recommendations and market insights with Lift. Premium subscription service for smart investors.">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 1rem 0;
            box-shadow: 0 2px 20px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .nav {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            color: #7B2CBF;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
        }

        .nav-links a {
            text-decoration: none;
            color: #333;
            font-weight: 500;
            transition: color 0.3s;
        }

        .nav-links a:hover {
            color: #7B2CBF;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem 20px;
        }

        .hero {
            text-align: center;
            color: white;
            padding: 3rem 0;
        }

        .hero h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .hero p {
            font-size: 1.2rem;
            margin-bottom: 2rem;
            opacity: 0.9;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 3rem 0;
        }

        .feature-card {
            background: rgba(255, 255, 255, 0.95);
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
        }

        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
        }

        .feature-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            text-align: center;
        }

        .feature-card h3 {
            color: #7B2CBF;
            margin-bottom: 1rem;
            text-align: center;
        }

        .cta-button {
            display: inline-block;
            background: #7B2CBF;
            color: white;
            padding: 1rem 2rem;
            text-decoration: none;
            border-radius: 50px;
            font-weight: bold;
            transition: all 0.3s;
            border: none;
            cursor: pointer;
            font-size: 1rem;
        }

        .cta-button:hover {
            background: #5a1e8a;
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(123, 44, 191, 0.4);
        }

        .pricing-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 2rem;
            margin: 2rem 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            text-align: center;
        }

        .pricing-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }

        .pricing-card {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            position: relative;
            border: 2px solid transparent;
            transition: all 0.3s;
        }

        .pricing-card:hover {
            border-color: #7B2CBF;
            transform: translateY(-5px);
        }

        .pricing-card.featured {
            border: 3px solid #7B2CBF;
            transform: scale(1.05);
        }

        .price {
            font-size: 2.5rem;
            font-weight: bold;
            color: #7B2CBF;
            margin: 1rem 0;
        }

        .price.free {
            color: #28a745;
        }

        .price-strike {
            text-decoration: line-through;
            color: #999;
            font-size: 1.5rem;
        }

        .early-user-badge {
            background: linear-gradient(45deg, #ff6b35, #f7931e);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-weight: bold;
            margin: 1rem 0;
            display: inline-block;
        }

        .qa-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 2rem;
            margin: 2rem 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .question-card {
            background: #f8f9fa;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 10px;
            border-left: 4px solid #7B2CBF;
        }

        .answer-card {
            background: #e8f5e8;
            padding: 1rem;
            margin: 0.5rem 0 0 2rem;
            border-radius: 10px;
            border-left: 4px solid #28a745;
        }

        .recommendations-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 2rem;
            margin: 2rem 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .stock-card {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #7B2CBF;
            transition: transform 0.3s;
        }

        .stock-card:hover {
            transform: translateX(5px);
        }

        .stock-price {
            font-size: 1.5rem;
            font-weight: bold;
            color: #28a745;
        }

        .price-negative {
            color: #dc3545;
        }

        .auth-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 2rem;
            margin: 2rem 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            text-align: center;
        }

        .form-group {
            margin: 1rem 0;
            text-align: left;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #7B2CBF;
            font-weight: bold;
        }

        .form-group input {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
        }

        .hidden {
            display: none;
        }

        .status {
            padding: 0.5rem 1rem;
            border-radius: 5px;
            margin: 1rem 0;
            text-align: center;
        }

        .status.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .status.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2rem;
            }
            
            .nav-links {
                display: none;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <nav class="nav">
            <div class="logo">🚀 Lift</div>
            <ul class="nav-links">
                <li><a href="#home">Home</a></li>
                <li><a href="#features">Features</a></li>
                <li><a href="#recommendations">Stocks</a></li>
                <li><a href="#pricing">Pricing</a></li>
                <li><a href="privacy.html">Privacy</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <!-- Hero Section -->
        <section id="home" class="hero">
            <div class="container">
                <h1>Welcome to Lift</h1>
                <p>Professional stock recommendations and market insights for smart investors</p>
                <button class="cta-button" onclick="showAuthSection()">Get Started</button>
            </div>
        </section>

        <!-- Features Section -->
        <section id="features" class="container">
            <div class="features-grid">
                <div class="feature-card" onclick="showRecommendations()">
                    <div class="feature-icon">📊</div>
                    <h3>Live Stock Recommendations</h3>
                    <p>Get real-time stock picks and market analysis from our expert team.</p>
                </div>
                <div class="feature-card" onclick="showQA()">
                    <div class="feature-icon">💬</div>
                    <h3>Expert Q&A</h3>
                    <p>Ask questions and get answers from our team of market experts.</p>
                </div>
                <div class="feature-card" onclick="showPortfolio()">
                    <div class="feature-icon">📈</div>
                    <h3>Portfolio Tracking</h3>
                    <p>Track your investments and performance with detailed analytics.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">🔔</div>
                    <h3>Real-time Alerts</h3>
                    <p>Get instant notifications for market movements and opportunities.</p>
                </div>
            </div>
        </section>

        <!-- Authentication Section -->
        <section id="auth" class="container auth-section hidden">
            <h2>Login to StockReco Pro</h2>
            <div id="authStatus" class="status hidden"></div>
            <div class="form-group">
                <label for="email">Email:</label>
                <input type="email" id="email" placeholder="Enter your email">
            </div>
            <div class="form-group">
                <label for="password">Password:</label>
                <input type="password" id="password" placeholder="Enter your password">
            </div>
            <button class="cta-button" onclick="signIn()">Sign In</button>
            <button class="cta-button" onclick="signUp()" style="margin-left: 1rem;">Sign Up</button>
        </section>

        <!-- Recommendations Section -->
        <section id="recommendations" class="container recommendations-section hidden">
            <h2>Today's Stock Recommendations</h2>
            <div id="stockList">
                <div class="stock-card">
                    <h4>RELIANCE</h4>
                    <div class="stock-price">₹2,456.75 <span style="font-size: 0.8rem; color: #28a745;">+2.3%</span></div>
                    <p><strong>Recommendation:</strong> BUY</p>
                    <p><strong>Target:</strong> ₹2,650</p>
                    <p><strong>Stop Loss:</strong> ₹2,350</p>
                </div>
                <div class="stock-card">
                    <h4>TCS</h4>
                    <div class="stock-price">₹3,789.20 <span style="font-size: 0.8rem; color: #dc3545;">-1.2%</span></div>
                    <p><strong>Recommendation:</strong> HOLD</p>
                    <p><strong>Target:</strong> ₹4,000</p>
                    <p><strong>Stop Loss:</strong> ₹3,600</p>
                </div>
                <div class="stock-card">
                    <h4>HDFC BANK</h4>
                    <div class="stock-price">₹1,678.90 <span style="font-size: 0.8rem; color: #28a745;">+0.8%</span></div>
                    <p><strong>Recommendation:</strong> BUY</p>
                    <p><strong>Target:</strong> ₹1,750</p>
                    <p><strong>Stop Loss:</strong> ₹1,620</p>
                </div>
            </div>
        </section>

        <!-- Pricing Section -->
        <section id="pricing" class="container pricing-section hidden">
            <h2>Choose Your Plan</h2>
            <div class="pricing-cards">
                <div class="pricing-card">
                    <h3>Free Plan</h3>
                    <div class="price free">₹0</div>
                    <p>Basic access to recommendations</p>
                    <ul style="text-align: left; margin: 1rem 0;">
                        <li>✅ Basic stock recommendations</li>
                        <li>✅ Daily market updates</li>
                        <li>✅ Community access</li>
                        <li>❌ Premium analysis</li>
                        <li>❌ Personal assistant</li>
                    </ul>
                    <button class="cta-button" onclick="selectPlan('free')">Get Started Free</button>
                </div>
                
                <div class="pricing-card featured">
                    <h3>Premium Plan</h3>
                    <div class="price-strike">₹299/month</div>
                    <div class="price free">FREE Forever</div>
                    <div class="early-user-badge">🎁 FREE for first 1000 users!</div>
                    <ul style="text-align: left; margin: 1rem 0;">
                        <li>✅ All Free features</li>
                        <li>✅ Advanced stock analysis</li>
                        <li>✅ Expert Q&A access</li>
                        <li>✅ Portfolio tracking</li>
                        <li>✅ Priority support</li>
                    </ul>
                    <button class="cta-button" onclick="selectPlan('premium')">Claim FREE Premium</button>
                </div>
                
                <div class="pricing-card">
                    <h3>Personal Assistant</h3>
                    <div class="price">₹10,000<span style="font-size: 1rem;">/month</span></div>
                    <p>One-on-one market guidance</p>
                    <ul style="text-align: left; margin: 1rem 0;">
                        <li>✅ Everything in Premium</li>
                        <li>✅ Personal market advisor</li>
                        <li>✅ Direct WhatsApp access</li>
                        <li>✅ Custom portfolio analysis</li>
                        <li>✅ Priority support</li>
                    </ul>
                    <button class="cta-button" onclick="selectPlan('personal_assistant')">Get Personal Assistant</button>
                </div>
            </div>
        </section>

        <!-- Q&A Section -->
        <section id="qa" class="container qa-section hidden">
            <h2>Ask Our Experts</h2>
            <div class="form-group">
                <label for="questionText">Your Question:</label>
                <input type="text" id="questionText" placeholder="Ask about any stock or market trend...">
            </div>
            <button class="cta-button" onclick="submitQuestion()">Submit Question</button>
            
            <div id="qaList">
                <div class="question-card">
                    <strong>Q:</strong> Should I buy RELIANCE at current levels?
                    <div class="answer-card">
                        <strong>Expert Answer:</strong> RELIANCE is showing strong fundamentals. Current levels are good for long-term investment with target of ₹2,650.
                    </div>
                </div>
                <div class="question-card">
                    <strong>Q:</strong> What's your view on IT sector?
                    <div class="answer-card">
                        <strong>Expert Answer:</strong> IT sector is recovering well. TCS and Infosys are good picks for the next quarter.
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore-compat.js"></script>

    <!-- Razorpay SDK -->
    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>

    <script>
        // Firebase Configuration (using your liftweb-17a0d project)
        const firebaseConfig = {
            apiKey: "AIzaSyB3HsJn-1WB52I5SjbuiomvAIWKgjq8uwA",
            authDomain: "liftweb-17a0d.firebaseapp.com",
            projectId: "liftweb-17a0d",
            storageBucket: "liftweb-17a0d.firebasestorage.app",
            messagingSenderId: "687812437823",
            appId: "1:687812437823:web:06ef3ad0c811e32aa9d58a",
            measurementId: "G-B5S931DP6H"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();

        // Razorpay Configuration
        const razorpayConfig = {
            keyId: 'rzp_test_YOUR_KEY_ID', // Replace with your actual Razorpay key
            keySecret: 'YOUR_KEY_SECRET', // Replace with your actual secret
            companyName: 'Lift',
            companyLogo: 'https://your-logo-url.com/logo.png', // Optional
            theme: {
                color: '#7B2CBF'
            }
        };

        // Global variables
        let currentUser = null;
        let userSubscriptionStatus = 'free';
        let userNumber = null;

        // UI Functions
        function showAuthSection() {
            document.getElementById('auth').classList.remove('hidden');
            document.getElementById('auth').scrollIntoView({ behavior: 'smooth' });
        }

        function showQA() {
            if (auth.currentUser) {
                document.getElementById('qa').classList.remove('hidden');
                document.getElementById('qa').scrollIntoView({ behavior: 'smooth' });
            } else {
                showStatus('authStatus', 'Please sign in first to access Q&A', 'error');
                showAuthSection();
            }
        }

        function showPricing() {
            document.getElementById('pricing').classList.remove('hidden');
            document.getElementById('pricing').scrollIntoView({ behavior: 'smooth' });
        }

        function showRecommendations() {
            document.getElementById('recommendations').classList.remove('hidden');
            document.getElementById('recommendations').scrollIntoView({ behavior: 'smooth' });
        }

        function showPortfolio() {
            alert('Portfolio tracking feature coming soon!');
        }

        function showStatus(elementId, message, type) {
            const statusEl = document.getElementById(elementId);
            statusEl.textContent = message;
            statusEl.className = `status ${type}`;
            statusEl.classList.remove('hidden');
            setTimeout(() => statusEl.classList.add('hidden'), 5000);
        }

        // Authentication Functions
        async function signUp() {
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;

            if (!email || !password) {
                showStatus('authStatus', 'Please enter email and password', 'error');
                return;
            }

            try {
                await auth.createUserWithEmailAndPassword(email, password);
                showStatus('authStatus', 'Account created successfully!', 'success');
                setTimeout(() => {
                    document.getElementById('auth').classList.add('hidden');
                    showRecommendations();
                }, 2000);
            } catch (error) {
                showStatus('authStatus', error.message, 'error');
            }
        }

        async function signIn() {
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;

            if (!email || !password) {
                showStatus('authStatus', 'Please enter email and password', 'error');
                return;
            }

            try {
                await auth.signInWithEmailAndPassword(email, password);
                showStatus('authStatus', 'Signed in successfully!', 'success');
                setTimeout(() => {
                    document.getElementById('auth').classList.add('hidden');
                    showRecommendations();
                }, 2000);
            } catch (error) {
                showStatus('authStatus', error.message, 'error');
            }
        }

        // Razorpay Payment Functions
        async function selectPlan(planType) {
            if (!auth.currentUser) {
                showStatus('authStatus', 'Please sign in first to select a plan', 'error');
                showAuthSection();
                return;
            }

            let amount, description, planName;
            
            switch(planType) {
                case 'free':
                    // Free plan - just update user status
                    await updateUserSubscription('free', null);
                    showStatus('authStatus', 'Free plan activated!', 'success');
                    return;
                    
                case 'premium':
                    // Check if user is in first 1000 (early user)
                    const userNum = await getUserNumber();
                    if (userNum <= 1000) {
                        await updateUserSubscription('premium', null);
                        showStatus('authStatus', 'FREE Premium activated for early user!', 'success');
                        return;
                    } else {
                        amount = 29900; // ₹299 in paise
                        description = 'Lift Premium Plan - Monthly';
                        planName = 'Premium';
                    }
                    break;
                    
                case 'personal_assistant':
                    amount = 1000000; // ₹10,000 in paise
                    description = 'Lift Personal Assistant Plan - Monthly';
                    planName = 'Personal Assistant';
                    break;
            }

            // Show confirmation dialog for paid plans
            if (confirm(`Proceed with ${planName} plan payment of ₹${amount/100}?`)) {
                initiateRazorpayPayment(amount, description, planType);
            }
        }

        function initiateRazorpayPayment(amount, description, planType) {
            const options = {
                key: razorpayConfig.keyId,
                amount: amount,
                currency: 'INR',
                name: razorpayConfig.companyName,
                description: description,
                image: razorpayConfig.companyLogo,
                handler: function(response) {
                    handlePaymentSuccess(response, planType, amount);
                },
                prefill: {
                    name: auth.currentUser.displayName || '',
                    email: auth.currentUser.email,
                },
                theme: razorpayConfig.theme,
                modal: {
                    ondismiss: function() {
                        showStatus('authStatus', 'Payment cancelled', 'error');
                    }
                }
            };

            const rzp = new Razorpay(options);
            rzp.open();
        }

        async function handlePaymentSuccess(response, planType, amount) {
            try {
                // Save payment record to Firestore
                await db.collection('payments').add({
                    user_id: auth.currentUser.uid,
                    payment_id: response.razorpay_payment_id,
                    amount: amount,
                    currency: 'INR',
                    status: 'success',
                    subscription_type: planType,
                    created_at: firebase.firestore.FieldValue.serverTimestamp()
                });

                // Update user subscription status
                await updateUserSubscription(planType, response.razorpay_payment_id);

                showStatus('authStatus', `Payment successful! ${planType} plan activated.`, 'success');
                
                // Refresh the page to show updated status
                setTimeout(() => {
                    location.reload();
                }, 2000);
                
            } catch (error) {
                console.error('Error processing payment:', error);
                showStatus('authStatus', 'Payment successful but activation failed. Please contact support.', 'error');
            }
        }

        async function updateUserSubscription(planType, paymentId) {
            const userRef = db.collection('users').doc(auth.currentUser.uid);
            
            const updateData = {
                subscription_status: planType,
                updated_at: firebase.firestore.FieldValue.serverTimestamp()
            };

            if (paymentId) {
                updateData.payment_id = paymentId;
                updateData.premium_start_date = firebase.firestore.FieldValue.serverTimestamp();
            }

            await userRef.set(updateData, { merge: true });
            userSubscriptionStatus = planType;
        }

        async function getUserNumber() {
            try {
                const userDoc = await db.collection('users').doc(auth.currentUser.uid).get();
                if (userDoc.exists) {
                    return userDoc.data().user_number || 9999;
                }
                return 9999; // Default to high number if not found
            } catch (error) {
                console.error('Error getting user number:', error);
                return 9999;
            }
        }

        // Q&A Functions
        async function submitQuestion() {
            const questionText = document.getElementById('questionText').value.trim();
            if (!questionText) {
                alert('Please enter a question');
                return;
            }

            if (!auth.currentUser) {
                showStatus('authStatus', 'Please sign in to ask questions', 'error');
                showAuthSection();
                return;
            }

            try {
                await db.collection('questions').add({
                    user_id: auth.currentUser.uid,
                    user_email: auth.currentUser.email,
                    question: questionText,
                    status: 'pending',
                    created_at: firebase.firestore.FieldValue.serverTimestamp()
                });

                document.getElementById('questionText').value = '';
                alert('Question submitted successfully! Our experts will answer soon.');
                
            } catch (error) {
                console.error('Error submitting question:', error);
                alert('Error submitting question. Please try again.');
            }
        }

        function askQuestion(stockSymbol) {
            document.getElementById('questionText').value = `What's your view on ${stockSymbol}?`;
            showQA();
        }

        // Auth Functions
        function signOut() {
            auth.signOut().then(() => {
                location.reload();
            });
        }

        // Auth state observer
        auth.onAuthStateChanged(user => {
            if (user) {
                console.log('User signed in:', user.email);
            } else {
                console.log('User signed out');
            }
        });

        // Initialize app
        document.addEventListener('DOMContentLoaded', () => {
            console.log('Lift Web App initialized');
        });
    </script>
</body>
</html>
